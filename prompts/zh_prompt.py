TEXT_PREPROCESSING_PROMPT = """
任務說明
請將以下逐字稿轉換為適合AI語音合成的字幕格式。這些字幕將被用於AI語音生成，因此需特別注意語句的自然停頓點，避免AI在不恰當的位置停頓。
處理原則
1. 平衡分段原則
* 每個分段保持18-36字左右的長度（不得超過50個字）
* 每個分段應表達一個相對完整的語義單元
* 完整的短句（18字以內）可單獨成段
* 較長句子（50字以上）需適當分段
2. 分段位置優先順序
1. 句號、問號、感嘆號等句末標點處
2. 分號、冒號處
3. 逗號、頓號處（選擇語義相對完整處）
4. 轉折詞前（如：但是、然而、不過、可是等）
5. 因果關係詞前（如：所以、因此、於是等）
6. 並列結構之間
3. 禁止分段位置
* 主語與謂語之間（如：「公司董事/決定了」）
* 動詞與賓語之間（如：「提高/效率」）
* 形容詞與名詞之間（如：「重要的/文件」）
* 量詞與名詞之間（如：「三個/蘋果」）
* 「的、地、得」與其連接的詞語之間
* 連詞與後續內容之間（如：「如果/下雨」）
4. 標點符號處理
* 保留原文的標點符號
* 分段時，末尾標點保留在該段
* 如原文缺乏適當標點，可在語義完整處適當添加逗號
特殊情況處理
* 對話內容：每個說話人的內容可作為獨立單元
* 列舉項目：每1-2個列舉項可作為一段
* 數字序列：避免將數字與其單位分開
* 專有名詞：保持完整性，不分割
輸出格式
將處理後的文本按以下格式輸出：
1. 不需要添加時間碼或編號
2. 每個分段單獨成行
3. 每個分段之間空格一行並輸入"---"

示例
原文：
各位學員，大家好！歡迎來到全球合規：隱私、安全與著作權系列課程。非常高興能和大家一起探討生成式AI技術帶來的機遇和挑戰。如我們所知，生成式AI正以驚人的速度發展，為我們的生活帶來翻天覆地的變化。從創作藝術作品，撰寫文案，到開發新藥物，生成式AI的應用範疇不斷擴展，為各行各業帶來革命性的影響。
然而，新技術的發展往往伴隨著新的挑戰與風險。在這個系列課程中，我們將深入探討生成式AI帶來的各種挑戰。而今天這堂課將聚焦於生成式AI與資料隱私的複雜挑戰這個議題。在今天的課程結束後，我希望大家都能夠：
理解生成式AI在資料處理過程中會面臨哪些隱私問題，以及我們應該如何應對這些挑戰；
辨識在資料收集和生成內容的過程中，可能存在的隱私風險，並學習如何制定策略來保護個人資料；
分析生成式AI在個性化服務中的應用，並學習如何在資料使用和隱私保護之間取得平衡。
首先，讓我們來看看生成式AI在資料處理過程中會遇到哪些隱私問題。

處裡後：
各位學員，大家好！歡迎來到全球合規：
隱私、安全與著作權系列課程。
---
非常高興能和大家一起探討
生成式AI技術帶來的機遇和挑戰。
---
如我們所知，生成式AI正以驚人的速度發展，
為我們的生活帶來翻天覆地的變化。
---
從創作藝術作品，撰寫文案，到開發新藥物，
生成式AI的應用範疇不斷擴展，
為各行各業帶來革命性的影響。
---
然而，
新技術的發展往往伴隨著新的挑戰與風險。
---
在這個系列課程中，
我們將深入探討生成式AI帶來的各種挑戰。
---
而今天這堂課將聚焦於
生成式AI與資料隱私的複雜挑戰這個議題。
---
在今天的課程結束後，我希望大家都能夠：
---
理解生成式AI在資料處理過程中
會面臨哪些隱私問題，
以及我們應該如何應對這些挑戰；
---
辨識在資料收集和生成內容的過程中，
可能存在的隱私風險，
---
並學習如何制定策略來保護個人資料；
分析生成式AI在個性化服務中的應用，
---
並學習如何在資料使用和隱私保護之間取得平衡。
---
首先，
讓我們來看看生成式AI在資料處理過程中
會遇到哪些隱私問題。


逐字稿內容
請處理以下逐字稿：
{text}
"""

# 添加文本斷詞提示詞
TEXT_SEGMENTATION_PROMPT = """
請閱讀以下文章：
{article}
1. 請勿更改原文本的斷句、標點符號，以及"---"等內容。
2. 請逐一將每個斷句片段，使用中文斷詞器對進行斷詞，並將斷詞結果，以"^"分隔輸出。
"""

# 字幕校正提示詞
SUBTITLE_CORRECTION_PROMPT = """
請扮演一位專業的文字編輯，比對以下字幕檔和逐字稿，並以逐字稿的內容為準，修正字幕檔中因語音轉文字造成的錯別字、漏字、多字、詞語誤用等問題，請勿修改語氣和修辭。

【重要規則】：
1. 只修正標記有「處理→」的字幕行，標記為「上下文:」的行僅供參考
2. 必須嚴格保持原始字幕的時間戳和斷句結構
3. 不允許合併任何字幕行，每個編號必須獨立輸出
4. 不允許拆分任何字幕行
5. 不要新增或移除任何字幕段落
6. 即使對於很長的字幕行，也必須完整處理，不能忽略任何部分

請使用以下格式輸出每個字幕行：
編號X:修正後的文字

接著，請將**當前批次**所有修改的內容整理成一個修改清單，並放在所有字幕內容之後。
請使用以下格式輸出修改清單： 
編號: 原文: 修正後
請使用 `<<<分隔符號>>>` 來分隔字幕與修改清單。

字幕檔內容：
{subtitle_content}

逐字稿內容：
{transcript_content}
"""

# 模擬語音識別SRT生成提示詞(暫時沒使用)
SRT_GENERATION_PROMPT = """
請扮演一個語音識別系統，將以下逐字稿轉換為相應的字幕文件。

你需要：
1. 按照逐字稿的內容，將文本分成多個字幕段落
2. 每個段落長度應介於10-25個字之間
3. 分段點應選擇句子的自然停頓點，如句號、逗號等
4. 避免在不適當的位置分段，如詞組中間

請將處理後的結果按以下SRT格式輸出：
1
00:00:00,000 --> 00:00:04,000
第一段字幕內容

2
00:00:04,000 --> 00:00:08,000
第二段字幕內容

注意：時間戳需要根據以下規則計算：
- 整個音頻總長度為 {duration} 秒
- 均勻分配時間戳，每段字幕時長與字數大致成正比
- 確保相鄰字幕之間無間隙或重疊

逐字稿內容：
{transcript}
"""